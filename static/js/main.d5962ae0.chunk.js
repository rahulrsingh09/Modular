(this.webpackJsonpmodular=this.webpackJsonpmodular||[]).push([[0],{35:function(n,t,e){},55:function(n,t,e){"use strict";e.r(t);var r=e(0),i=e(1),a=e.n(i),o=e(23),c=e.n(o),s=(e(35),function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,56)).then((function(t){var e=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;e(n),r(n),i(n),a(n),o(n)}))}),d=e(11),u=e.n(d),p=e(29),l=e(24),b=e(5),x=e(6),f=e(9),h=e(8),g=e(25),v=e.n(g).a.create({baseURL:"https://artful-iudex.herokuapp.com/"}),j=e(3),m=e(2);function O(){var n=Object(j.a)(["\n  padding: ",";\n  display: inline-block;\n  transition: transform .2s;\n  cursor: pointer; \n  ","\n"]);return O=function(){return n},n}var C=m.a.span(O(),(function(n){return n.customPadding?n.customPadding:null}),(function(n){return!n.preventHover&&"&:hover{\n    transform: scale(2);\n    position: relative;\n    bottom: 8px;\n}"})),k=function(n){return Object(r.jsx)(C,{customPadding:n.customPadding,preventHover:n.preventHover,role:"img","aria-label":n.name?n.name:"","aria-hidden":n.name?"false":"true",children:n.emoji},n.id)};k.defaultProps={preventHover:!1,customPadding:"2px 8px 4px 8px"};var w=a.a.memo(k);function R(){var n=Object(j.a)(["\n  padding: 0px 12px;\n  display: flex;\n  box-sizing: border-box;\n  -webkit-box-shadow: 3px 0px 35px -8px rgba(0,0,0,0.24);\n  -moz-box-shadow: 3px 0px 35px -8px rgba(0,0,0,0.24);\n  box-shadow: 3px 0px 35px -8px rgba(0,0,0,0.24);\n  border-radius: 24px;\n  width: min-content;\n  height: min-content;\n"]);return R=function(){return n},n}var H=m.a.div(R()),y=Object(m.a)("span")({visibility:"hidden",width:"60px",display:"grid",alignItems:"center",backgroundColor:"#161616",padding:"12px 16px",color:"#fff",textAlign:"center",borderRadius:"2px",position:"absolute",zIndex:1,bottom:"150%",left:"50%",marginLeft:"-45px",":after":{content:'""',position:"absolute",top:"100%",left:"50%",marginLeft:"-5px",borderWidth:"5px",borderStyle:"solid",borderColor:"#161616 transparent transparent transparent"}}),T=Object(m.a)("div")({position:"relative",display:"inline-block",":hover span":{visibility:"visible"}}),_=function(n){return Object(r.jsx)(H,{children:Object(r.jsx)(i.Fragment,{children:n.reactions.map((function(t){return Object(r.jsxs)(T,{onMouseEnter:function(){return n.onHoverEventHandler(t.id)},onClick:function(){return n.onClickHandler(t)},children:[Object(r.jsx)(w,{id:t.id,name:t.name,emoji:t.emoji},t.id),Object(r.jsx)(y,{children:t.name})]})}))})})},M=i.memo(_);function I(){var n=Object(j.a)(["\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: 0 10px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: 1px solid #e6e0e0;\n"]);return I=function(){return n},n}function E(){var n=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  margin: 10px;\n  justify-content: space-between;\n"]);return E=function(){return n},n}function P(){var n=Object(j.a)(["\n  padding: 80px;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;  \n"]);return P=function(){return n},n}var S=m.a.div(P()),z=m.a.div(E()),F=m.a.img(I());function A(){var n=Object(j.a)([" \n","\n"]);return A=function(){return n},n}function L(){var n=Object(j.a)(["\n  border-style: none;\n  background-color: #fff;\n  padding: 0 16px;\n  outline: none;\n  height: 40px;\n  cursor: pointer;\n  position: relative;\n  font-size: 14px;\n  border-bottom:  ",";\n\n"]);return L=function(){return n},n}function U(){var n=Object(j.a)(["\n  height: 40px;\n"]);return U=function(){return n},n}var B=m.a.div(U()),D=m.a.button(L(),(function(n){return n.active?"2px solid #0f62fe":"2px solid rgba(0,0,0,0.24)"})),J=m.a.div(A(),(function(n){return n.active?"":"display:none"}));function W(){var n=Object(j.a)(["\n  display: flex;\n  height: 300px;\n  width: 100%;\n  overflow-x: auto;\n  padding: 16px;\n  box-sizing: border-box;\n"]);return W=function(){return n},n}function Z(){var n=Object(j.a)(["\n  font-weight: bold;\n  padding: 24px 16px 16px 16px;\n"]);return Z=function(){return n},n}function q(){var n=Object(j.a)(["\n  width: max-content;\n  height: max-content;\n"]);return q=function(){return n},n}function G(){var n=Object(j.a)(["\n display: flex;\n justify-content: center;\n align-items: center;\n height: ",";\n ","\n"]);return G=function(){return n},n}function K(){var n=Object(j.a)(["\n  width: 4px;\n  display: inline-block;\n  height: 4px;\n  border-radius: 50%;\n  background-color: black;\n"]);return K=function(){return n},n}function N(){var n=Object(j.a)(["\n    width: max-content;\n    -webkit-box-shadow: 3px 0px 35px -8px rgba(0,0,0,0.24);\n    -moz-box-shadow: 3px 0px 35px -8px rgba(0,0,0,0.24);\n    box-shadow: 3px 0px 35px -8px rgba(0,0,0,0.24);\n    height: max-content;\n"]);return N=function(){return n},n}var Q=m.a.div(N()),V=m.a.span(K()),X=m.a.div(G(),(function(n){return n.height}),(function(n){return n.emphasis&&"font-weight: ".concat(n.emphasis)})),Y=m.a.div(q()),$=m.a.div(Z()),nn=m.a.div(W());function tn(){var n=Object(j.a)(["\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n"]);return tn=function(){return n},n}function en(){var n=Object(j.a)(["\n  width: 100%;\n  height: max-content;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n"]);return en=function(){return n},n}var rn=m.a.div(en()),an=m.a.img(tn());function on(){var n=Object(j.a)(["\n  text-align: center;\n  ",";\n"]);return on=function(){return n},n}var cn=m.a.span(on(),(function(n){return n.padding&&"padding : ".concat(n.padding)})),sn=function(n){return Object(r.jsxs)(rn,{children:[Object(r.jsx)(an,{src:n.user.avatar}),Object(r.jsx)(w,{emoji:n.reaction.emoji,id:n.reaction.id,name:n.reaction.name}),Object(r.jsxs)(cn,{children:[n.user.first_name,"\xa0",n.user.last_name]})]})},dn=i.memo(sn),un=function(n){Object(f.a)(e,n);var t=Object(h.a)(e);function e(n){var i;return Object(b.a)(this,e),(i=t.call(this,n))._userIdToUsersMap=new Map,i._reactionIdToReactionsMap=new Map,i._userContentReactionsMap=new Map,i.getTabs=function(){return i.props.reactions.map((function(n,t){return Object(r.jsx)(D,{onClick:function(){return i.props.tabClickHandler(n.id)},active:i.props.globalTabIndex===n.id,children:Object(r.jsxs)(X,{children:[Object(r.jsx)(w,{emoji:n.emoji,name:n.name,id:n.id,preventHover:!0,customPadding:"2px 8px 4px 0px"},n.id),Object(r.jsx)(V,{}),Object(r.jsx)(cn,{padding:"0 0 0 8px",children:i.props.reactionMapCount.get(n.id)})]})})}))},i.getFilteredContent=function(n,t){var e,a=i._userContentReactionsMap.get(n);return void 0!==a&&(e=a.map((function(t){var e=i._userIdToUsersMap.get(t),a=i._reactionIdToReactionsMap.get(n);return void 0!==e&&void 0!==a?Object(r.jsx)(dn,{user:e,reaction:a}):null}))),e},i.getAllContent=function(){return i.props.userContentReactions.map((function(n){var t=i._userIdToUsersMap.get(n.user_id),e=i._reactionIdToReactionsMap.get(n.reaction_id);return void 0!==t&&void 0!==e?Object(r.jsx)(dn,{user:t,reaction:e}):null}))},i.getTabContent=function(){return i.props.reactions.map((function(n,t){return Object(r.jsx)(J,{active:i.props.globalTabIndex===n.id,children:i.props.globalTabIndex===n.id&&i.getFilteredContent(n.id,i.props.globalTabIndex)})}))},n.users.forEach((function(n){i._userIdToUsersMap.set(n.id,n)})),n.reactions.forEach((function(n){i._reactionIdToReactionsMap.set(n.id,n)})),n.userContentReactions.forEach((function(n){var t=i._userContentReactionsMap.get(n.reaction_id);void 0===t&&(t=[]),t.push(n.user_id),i._userContentReactionsMap.set(n.reaction_id,t)})),i}return Object(x.a)(e,[{key:"render",value:function(){var n=this;return Object(r.jsxs)(Q,{children:[Object(r.jsx)($,{children:"Reactions"}),Object(r.jsx)(Y,{children:Object(r.jsxs)(B,{children:[Object(r.jsx)(D,{onClick:function(){return n.props.tabClickHandler(999)},active:999===this.props.globalTabIndex,children:Object(r.jsx)(X,{height:"39px",emphasis:"bold",children:"All"})}),this.getTabs()]})}),Object(r.jsxs)(nn,{children:[Object(r.jsx)(J,{active:999===this.props.globalTabIndex,children:this.getAllContent()}),this.getTabContent()]})]})}}]),e}(i.PureComponent);function pn(){var n=Object(j.a)(["\n  animation: "," 1s linear infinite;\n  transform: translateZ(0);\n  \n  border-top: 2px solid grey;\n  border-right: 2px solid grey;\n  border-bottom: 2px solid grey;\n  border-left: 4px solid black;\n  background: transparent;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n"]);return pn=function(){return n},n}function ln(){var n=Object(j.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return ln=function(){return n},n}var bn=Object(m.b)(ln()),xn=m.a.div(pn(),bn);function fn(){var n=Object(j.a)(["\n    height: 32px;\n    border-radius: 24px;\n    width:50px;\n    box-sizing: border-box;\n    display: flex;\n    padding: 0 8px;\n    align-items: center;\n    ",";\n    ",";\n"]);return fn=function(){return n},n}var hn=m.a.div(fn(),(function(n){return n.active&&"border:2px solid #0f62fe"}),(function(n){return n.active&&"\u200bbackground-color: #edf5ff"})),gn=function(n){return n.activeReaction&&n.activeReaction.id?Object(r.jsxs)(hn,{active:null!==n.activeReaction.id,onClick:function(){return n.onToggleClickHandler({})},children:[Object(r.jsx)(w,{name:n.activeReaction.name,emoji:n.activeReaction.emoji,id:n.activeReaction.id,preventHover:!0,customPadding:"0 8px 0 0"}),"1"]}):null},vn=i.memo(gn),jn=e.p+"static/media/reaction.91a6f51c.svg",mn=function(n){Object(f.a)(e,n);var t=Object(h.a)(e);function e(){var n;Object(b.a)(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))).state={reactions:[],users:[],userContentReactions:[],activeTabIndex:1,activeReaction:{},toggleEmojis:!1},n._reactionMapCount=new Map,n.onHoverEventHandler=function(t){n.setState({activeTabIndex:t})},n.onClickEventHandler=function(t){n.setState({activeReaction:t})},n.tabClickHandler=function(t){console.log(t,"RAHUL"),t!==n.state.activeTabIndex&&n.setState({activeTabIndex:t})},n.onEmojiButtonClickHandler=function(){n.setState((function(n){return{toggleEmojis:!n.toggleEmojis}}))},n}return Object(x.a)(e,[{key:"componentDidMount",value:function(){var n=Object(l.a)(u.a.mark((function n(){var t,e,r,i,a,o=this;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all([v.get("reactions"),v.get("/users "),v.get("/user_content_reactions ")]);case 3:t=n.sent,e=Object(p.a)(t,3),r=e[0],i=e[1],a=e[2],r.data&&r.data.length&&this.setState({reactions:r.data}),i.data&&i.data.length&&this.setState({users:i.data}),a.data&&a.data.length&&(a.data.forEach((function(n){var t=o._reactionMapCount.get(n.reaction_id);o._reactionMapCount.set(n.reaction_id,t?t+1:1)})),this.setState({userContentReactions:a.data})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0);case 16:case"end":return n.stop()}}),n,this,[[0,13]])})));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.state.userContentReactions.length?Object(r.jsxs)(i.Fragment,{children:[this.state.toggleEmojis&&Object(r.jsx)(M,{reactions:this.state.reactions,onHoverEventHandler:this.onHoverEventHandler,onClickHandler:this.onClickEventHandler}),Object(r.jsxs)(z,{children:[Object(r.jsx)(F,{src:jn,onClick:this.onEmojiButtonClickHandler}),this.state.activeReaction&&this.state.activeReaction.id&&Object(r.jsx)(vn,{onToggleClickHandler:this.onClickEventHandler,activeReaction:this.state.activeReaction})]}),Object(r.jsx)(un,{users:this.state.users,userContentReactions:this.state.userContentReactions,reactions:this.state.reactions,reactionMapCount:this._reactionMapCount,globalTabIndex:this.state.activeTabIndex,tabClickHandler:this.tabClickHandler})]}):Object(r.jsx)(xn,{});return Object(r.jsx)(S,{children:n})}}]),e}(i.PureComponent);c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(mn,{})}),document.getElementById("root")),s()}},[[55,1,2]]]);
//# sourceMappingURL=main.d5962ae0.chunk.js.map